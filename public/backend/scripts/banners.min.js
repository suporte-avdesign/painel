!function(t,e){preview_image=function(e,s){t("#image_preview_"+e).html("");for(var o=document.getElementById("upload_file").files.length,a=0;a<o;a++)t("#image_preview_"+e).append('<img src="'+URL.createObjectURL(event.target.files[a])+'" width="'+s+'">');t("#btn-upload-submit").show()},statusImage=function(e,s,o){t.ajax({type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":o},url:s,data:{_method:"put"},beforeSend:function(){t("#status-"+e).attr("class","button disabled")},success:function(s){1==s.success?(t("#status-"+e).attr("class",s.class),msgNotifica(!0,s.message,!0,!1)):msgNotifica(!1,s.message,!0,!1)},error:function(t){ajaxFormError(t)}})},deleteImage=function(e,s,o){t.ajax({type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":o},url:s,data:{_method:"delete"},success:function(s){1==s.success?(t("#img-"+e).remove(),msgNotifica(!0,s.message,!0,!1)):msgNotifica(!1,s.message,!0,!1)},error:function(t){ajaxFormError(t)}})},updateOrder=function(e,s,o){var a=t("#input-order-"+e).val();1==a.length&&(a="0"+a),t.ajax({type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":o},url:s,data:{_method:"PUT",id:e,order:a},success:function(s){1==s.success?(t("#order-"+e).text("Ordem ("+a+")"),t("#order-"+e).removeTooltip(),msgNotifica(!0,s.message,!0,!1)):msgNotifica(!1,s.message,!0,!1)},error:function(t){ajaxFormError(t)}})},t("body").on("click","#btn-upload",function(e){t(this).parents("#form-image").ajaxForm(s)});var s={beforeSend:function(){setBtn(4,"Aguarde",!1,"loader","btn-upload",!1,"silver")},success:function(e){1==e.success?(setBtn(1,ac,!0,"icon-cloud-upload","btn-upload"),"create"==e.ac&&t("#gallery-"+e.idm).prepend('<li class="square" id="img-'+e.id+'"><img src="'+e.path+'" class="framed"><div class="controls"><span id="btns-'+e.id+'" class="button-group compact children-tooltip"><button id="status-'+e.id+'" onclick="'+e.url_status+'" class="'+e.class+'" title="'+e.btn.status+'"></button><button id="order-'+e.id+'" onclick="'+e.url_order+'" class="button" title="'+e.btn.order+'">'+e.btn.order+"("+e.order+')</button><button id="edit-'+e.id+'" onclick="'+e.url_edit+'" class="button" title="'+e.btn.edit+'">'+e.btn.edit+'</button><button id="delete-'+e.id+'" onclick="'+e.url_delete+'" class="button icon-trash red-gradient" title="'+e.btn.delete+'"></button></span></div></li>'+e.script),"update"==e.ac&&t("#img-"+e.id).html('<img src="'+e.path+'" class="framed"><div class="controls"><span id="btns-'+e.id+'" class="button-group compact children-tooltip"><button id="status-'+e.id+'" onclick="'+e.url_status+'" class="'+e.class+'" title="'+e.btn.status+'"></button><button id="order-'+e.id+'" onclick="'+e.url_order+'" class="button" title="'+e.btn.order+'">'+e.btn.order+"("+e.order+')</button><button id="edit-'+e.id+'" onclick="'+e.url_edit+'" class="button" title="'+e.btn.edit+'">'+e.btn.edit+'</button><button id="delete-'+e.id+'" onclick="'+e.url_delete+'" class="button icon-trash red-gradient" title="'+e.btn.delete+'"></button></span></div>'+e.script),fechaModal(),msgNotifica(!0,e.message,!0,!1)):msgNotifica(!1,e.message,!0,!1)},complete:function(t){setBtn(4,"Upload",!0,"icon-cloud-upload","btn-upload",!1,"blue")},error:function(t){ajaxFormError(t),setBtn(4,"Upload",!0,"icon-cloud-upload","btn-upload",!1,"blue")}}}(jQuery);
