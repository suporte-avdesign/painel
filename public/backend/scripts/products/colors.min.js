!function(e){preview_image=function(t,o,a){e("#"+o).html("");for(var r=document.getElementById(t).files.length,l=0;l<r;l++)e("#"+o).append('<img src="'+URL.createObjectURL(event.target.files[l])+'" width="'+a+'">')},statusColor=function(t,o,a,r,l){e.ajax({type:"POST",headers:{"X-CSRF-TOKEN":l},dataType:"json",url:o,data:{_method:"put",active:a},success:function(o){1==o.success?(void 0!==o.alert&&o.alert&&e.modal.alert(o.alert),e("#btns-"+t).html(o.html),msgNotifica(!0,o.message,!0,!1)):msgNotifica(!1,o.message,!0,!1)},error:function(e){ajaxFormError(e)}})},deleteColor=function(t,o){e.modal.confirm(tableProduct.txtConfirm+" "+name+"?",function(){e.ajax({type:"DELETE",dataType:"json",url:o,headers:{"X-CSRF-TOKEN":tableProduct.token},success:function(o){1==o.success?(void 0!==o.alert&&o.alert&&e.modal.alert(o.alert),1==o.reload?tableAjaxReload():e("#img-colors-"+t).remove(),msgNotifica(!0,o.message,!0,!1)):msgNotifica(!1,o.message,!0,!1)},error:function(e){ajaxFormError(e)}})},function(){e.modal.alert(tableProduct.txtCancel)})},e("body").on("click","#btn-colors",function(o){e(this).parents("#form-colors").ajaxForm(t)});var t={beforeSend:function(){setBtn(1,tableProduct.txtLoader,!1,"loader disbeled","submit-colors","btn-colors")},success:function(t){if(1==t.success){if("create"==t.ac){e('input[name="img[code]"]').val(""),e('input[name="img[color]"]').val(""),e('input[name="img[html]"]').val(""),e("#barvadiv").attr("style","margin-top:2px;width:100px;height:100px;"),e("#uploadCanvas").val("");var o=e("#cover_id").val();e("#load_cover_"+o).html('<label for="img_cover_'+o+'_1" class="button green-active"><input type="radio" name="img[cover]" id="img_cover_'+o+'_1" value="1">'+tableProduct.txtYes+'</label><label for="img_cover_'+o+'_2" class="button red-active" ><input type="radio" name="img[cover]" id="img_cover_'+o+'_2" value="0" checked>'+tableProduct.txtNot+"</label>"),e(".color").removeAttr("data-selected"),e("#group-colors-"+o).html('<span class="groups"></span>');var a=e('input[name="img[order]"]').val(),r=parseFloat(a)+1;e('input[name="img[order]"]').val(r),e('input[name="pos[order]"]').val("1");var l=e("#count_colors").html(),c=parseFloat(l)+1;e("#count_colors").html(c),nextTabs("new-product","show-positions",!0),e("#insert_color").html('<input name="pos[image_color_id]" type="hidden" value="'+t.id+'"><input name="pos[name]" type="hidden" value="'+t.name+'"><input name="pos[color]" type="hidden" value="'+t.color+'"><input name="pos[code]" type="hidden" value="'+t.code+'">'),setBtn(1,tableProduct.txtNext,!0,"icon-forward","submit-colors","btn-colors"),tableAjaxReload()}if("add"==t.ac){l=e("#count_colors").html(),c=parseFloat(l)+1;e("#count_colors").html(c),e("#gallery-colors-"+t.product_id).prepend(t.html),fechaModal()}"update"==t.ac&&(e("#img-colors-"+t.id).html(t.html),fechaModal()),msgNotifica(!0,t.message,!0,!1)}else msgNotifica(!1,t.message,!0,!1),setBtn(1,tableProduct.txtSave,!0,"icon-tick","submit-colors","btn-colors")},error:function(e){ajaxFormError(e),setBtn(1,tableProduct.txtSave,!0,"icon-tick","submit-colors","btn-colors")}}}(jQuery);
