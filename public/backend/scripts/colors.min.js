!function(t,e){t.fn.loadTableColors=function(){var e=t("#"+tableColor.id).DataTable({processing:!0,serverSide:!0,ajax:{url:tableColor.url,type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":tableColor.token}},sScrollX:!0,sScrollXInner:"100%",buttons:["reset"],sPaginationType:"full_numbers",iDisplayLength:tableColor.limit,sDom:'CB<"clear"><"dataTables_header"lfr>t<"dataTables_footer"ip>',fnDrawCallback:function(e){tableColor.tableStyled||(t("#"+tableColor.id).closest(".dataTables_wrapper").find(".dataTables_length select").addClass("select "+tableColor.color+" glossy").styleSelect(),t("#btn-reset").addClass(tableColor.color+" glossy"),tableColor.tableStyled=!0)},columns:[{data:null,searchable:!1,render:function(t,e,a){return t.image}},{data:"code"},{data:"color"},{data:"category"},{data:"section"},{data:"brand"},{data:"visits",className:"align-center"},{data:"active",className:"align-center"},{data:"actions",className:"align-right",orderable:!1,searchable:!1,defaultContent:""}],order:[[0,"desc"]]});statusColors=function(e,a,s,o,l){var r;r=1==s?0:1,t.ajax({type:"POST",headers:{"X-CSRF-TOKEN":l},dataType:"json",url:a,data:{_method:"put",active:r},success:function(a){1==a.success?(1==o&&0==r&&t.modal.alert('<span class="red">'+a.alert+"</span>"),t("#status-"+e).html(a.html),msgNotifica(!0,a.message,!0,!1)):msgNotifica(!1,a.message,!0,!1)},error:function(t){ajaxFormError(t)}})},preview_image=function(e,a,s){t("#"+a).html("");for(var o=document.getElementById(e).files.length,l=0;l<o;l++)t("#"+a).append('<img src="'+URL.createObjectURL(event.target.files[l])+'" width="'+s+'">')},addGrid=function(e,a){var s,o=Math.random();1==a?(s='<li class="new_grid">',s+='<span class="input">',s+='<input type="text" name="grids['+o+'][grid]" id="grid_'+e+'" class="input-unstyled input-sep" value="" maxlength="4" style="width: 30px;">',s+='<input type="text" name="grids['+o+'][entry]" id="entry_'+e+'" class="input-unstyled input-sep" value="" maxlength="4" style="width: 30px;">',s+='<input type="text" name="grids['+o+'][low]" id="exit_'+e+'" class="input-unstyled input-sep" value="0" style="width: 30px;">',s+="</span>",s+='<div class="button-group absolute-right compact">',s+='<button onclick="removeThis(this,\'.new_grid\');" class="button icon-trash with-tooltip" title="Excluir"></button>',s+="</div>",s+="</li>"):(s='<li class="new_grid">',s+='<span class="input">',s+='<input type="text" name="grids['+o+'][grid]" id="grid_'+e+'" class="input-unstyled input-sep" value="" maxlength="4" style="width: 30px;">',s+="</span>",s+='<div class="button-group absolute-right compact">',s+='<button onclick="removeThis(this,\'.new_grid\');" class="button icon-trash with-tooltip" title="Excluir"></button>',s+="</div>",s+="</li>"),t("#grids-"+e).append(s)},removeThis=function(e,a){t(e).parents(a).remove()},deleteColor=function(a,s){t.ajax({type:"DELETE",dataType:"json",url:s,headers:{"X-CSRF-TOKEN":tableColor.token},success:function(t){1==t.success?(e.ajax.reload(),msgNotifica(!0,t.message,!0,!1)):msgNotifica(!1,t.message,!0,!1)},error:function(t){ajaxFormError(t)}})},t("body").on("click","#btn-colors",function(e){t(this).parents("#form-colors").ajaxForm(a)});var a={beforeSend:function(){setBtn(1,"Aguarde",!1,"loader disbeled","submit-colors","btn-colors")},success:function(e){1==e.success?(t("#img-"+e.id).attr("src",e.image),t("#code-"+e.id).html(e.code),t("#color-"+e.id).html(e.color),fechaModal(),msgNotifica(!0,e.message,!0,!1)):(msgNotifica(!1,e.message,!0,!1),setBtn(1,"Salvar",!0,"icon-tick","submit-colors","btn-colors"))},error:function(t){ajaxFormError(t),setBtn(1,"Salvar",!0,"icon-tick","submit-colors","btn-colors")}}}}(jQuery);
