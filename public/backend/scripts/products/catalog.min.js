!function(a){a.fn.loadTableCatalog=function(){var e=a("#"+tableCatalog.id).DataTable({processing:!0,serverSide:!0,ajax:{url:tableCatalog.url,type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":tableCatalog.token}},sScrollX:!0,sScrollXInner:"100%",buttons:["reset"],sPaginationType:"full_numbers",iDisplayLength:tableCatalog.limit,sDom:'CB<"clear"><"dataTables_header"lfr>t<"dataTables_footer"ip>',fnDrawCallback:function(e){tableCatalog.tableStyled||(a("#"+tableCatalog.id).closest(".dataTables_wrapper").find(".dataTables_length select").addClass("select "+tableCatalog.color+" glossy").styleSelect(),a("#btn-reset").addClass(tableCatalog.color+" glossy"),tableCatalog.tableStyled=!0)},columns:[{data:null,searchable:!1,render:function(a,e,t){return a.image}},{data:"code"},{data:"color"},{data:"category"},{data:"section"},{data:"brand"},{data:"visits",className:"align-center"},{data:"active",className:"align-center"},{data:"actions",className:"align-right",orderable:!1,searchable:!1,defaultContent:""}],order:[[0,"desc"]]});statusCatalog=function(e,t,o,s){a.ajax({type:"POST",headers:{"X-CSRF-TOKEN":s},dataType:"json",url:t,data:{_method:"put",active:o},success:function(t){1==t.success?(void 0!==t.alert&&t.alert&&a.modal.alert(t.alert),a("#status-"+e).html(t.html),msgNotifica(!0,t.message,!0,!1)):msgNotifica(!1,t.message,!0,!1)},error:function(a){ajaxFormError(a)}})},preview_image=function(e,t,o){a("#"+t).html("");for(var s=document.getElementById(e).files.length,l=0;l<s;l++)a("#"+t).append('<img src="'+URL.createObjectURL(event.target.files[l])+'" width="'+o+'">')},deleteColor=function(t,o){a.ajax({type:"DELETE",dataType:"json",url:o,headers:{"X-CSRF-TOKEN":tableCatalog.token},success:function(a){1==a.success?(e.ajax.reload(),msgNotifica(!0,a.message,!0,!1)):msgNotifica(!1,a.message,!0,!1)},error:function(a){ajaxFormError(a)}})},a("body").on("click","#btn-colors",function(e){a(this).parents("#form-colors").ajaxForm(t)});var t={beforeSend:function(){setBtn(1,"Aguarde",!1,"loader disbeled","submit-colors","btn-colors")},success:function(e){1==e.success?(a("#img-"+e.id).attr("src",e.image),a("#code-"+e.id).html(e.code),a("#color-"+e.id).html(e.color),fechaModal(),msgNotifica(!0,e.message,!0,!1)):(msgNotifica(!1,e.message,!0,!1),setBtn(1,"Salvar",!0,"icon-tick","submit-colors","btn-colors"))},error:function(a){ajaxFormError(a),setBtn(1,"Salvar",!0,"icon-tick","submit-colors","btn-colors")}}}}(jQuery);
