!function(a,e){a.fn.loadTableSpams=function(){var e=Handlebars.compile(a("#painel-"+tableSpam.id).html()),s=a("#"+tableSpam.id).DataTable({processing:!0,serverSide:!0,ajax:{url:tableSpam.url,type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":tableSpam.token}},sScrollX:!0,sScrollXInner:"100%",buttons:["reset"],sPaginationType:"full_numbers",iDisplayLength:tableSpam.limit,sDom:'CB<"clear"><"dataTables_header"lfr>t<"dataTables_footer"ip>',fnDrawCallback:function(e){tableSpam.tableStyled||(a("#"+tableSpam.id).closest(".dataTables_wrapper").find(".dataTables_length select").addClass("select "+tableSpam.color+" glossy").styleSelect(),a("#btn-reset").addClass(tableSpam.color+" glossy"),tableSpam.tableStyled=!0)},columns:[{data:"created_at"},{data:"name"},{data:"email"},{data:"message"},{data:null,className:"details-control",orderable:!1,searchable:!1,defaultContent:""}],order:[[0,"desc"]]});a("#"+tableSpam.id).on("click",tableSpam.openDetails,function(){if(event.target===this){var t=a(this).closest("tr"),l=s.row(t);l.child.isShown()?(l.child.hide(),t.removeClass("shown"),t.children().removeClass(tableSpam.colorSel)):(l.child(e(l.data())).show(),t.addClass("shown"),t.children().addClass(tableSpam.colorSel))}}),refreshSpam=function(e,s){a.ajax({url:s,success:function(s){a("#load-contact-"+e).html(s)},error:function(a){ajaxFormError(a)}})},deleteSpam=function(e){a.ajax({type:"DELETE",dataType:"json",url:base+"/spams/"+e,data:{status:status},headers:{"X-CSRF-TOKEN":tableSpam.token},success:function(a){1==a.success&&s.ajax.reload(),msgNotifica(a.success,a.message,!0,!1)},error:function(a){ajaxFormError(a)}})},changeSpam=function(e){a.ajax({type:"PUT",dataType:"json",url:base+"/spams/"+e,headers:{"X-CSRF-TOKEN":tableSpam.token},success:function(a){1==a.success&&s.ajax.reload(),msgNotifica(a.success,a.message,!0,!1)},error:function(a){ajaxFormError(a)}})}}}(jQuery);
